<?phpnamespace controllers;use model\announcement;require_once '../../Helper/ErrorMessage.php';require_once  '../model/announcement.php';class announcementController{  public function store():void  {      $Fields = [          'Title' => 'title is required',          'Description' =>  'description is required',      ];      $data = [];      $error = [];      foreach($Fields as $Field => $message){          if (!isset($_POST[$Field]) || trim($_POST[$Field]) === '') { // check if each input is Empty or no value              $error[$Field] = $message;          }else{              $data[$Field] = htmlspecialchars($_POST[$Field]);          }      }      if (!empty($error)) { // check if the error array is not empty          $data['success'] = false;          $data['errors'] = $error;          echo json_encode($data);          return;      }      $announcement = new announcement();      $announcement->store($data['Title'],$data['Description']);  }    public static function displayToTable():void    {        $announcement = new announcement();        $card = '';        $data = $announcement->showAll();        if ($data) {            foreach ($data as $row) {                $card .= '                                   <div class="card container-fluid p-2">                            <h5 class="card-title">'.$row['title'].'</h5>                            <div class="card-body">                                <p>                                  '.$row['des'].'                                </p>                            </div>                            <div class="card-footer d-flex gap-3">                                <button class="btn btn-danger btn_delete" value="'.$row['id'].'">Delete</button>                                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#editModal_'.$row['id'].'">Edit</button>                            </div>                        </div>            <!-- Modal for this student -->            <div class="modal fade" id="editModal_' . $row['id'] . '" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-hidden="true">                <div class="modal-dialog modal-dialog-centered">                    <div class="modal-content">                        <div class="modal-header">                            <h1 class="modal-title fs-5">Update Announcement</h1>                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>                        </div>                        <form class="update_announcement" id="updateStudentForm_' . $row['id'] . '">                            <div class="modal-body">                                <div class="form-floating mb-3">                                    <input type="text" class="form-control" name="title" value="' . $row['title'] . '" placeholder="Title" required>                                    <label>Title</label>                                </div>                                                                   <div class="form-floating">                                    <textarea name="Description" class="form-control" placeholder="Leave a Description" id="Description" style="height: 100px" required>                                     '.$row['des'].'                                 </textarea>                                    <label for="Description">Description</label>                                    <div id="Description_msg" class="invalid-feedback"></div>                                </div>                                                                <input type="hidden" name="id" value="' . $row['id'] . '">                            </div>                            <div class="modal-footer">                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>                                <button type="submit" class="btn btn-primary">Save Changes</button>                            </div>                        </form>                    </div>                </div>            </div>';            }            echo $card;        }      }      public function update():void      {          $title = htmlspecialchars($_POST['title']);          $Description = htmlspecialchars($_POST['Description']);          $id = htmlspecialchars($_POST['id']);          $announcement = new announcement();          $announcement->update(              $title,              $Description,              $id          );      }      public function delete():void      {          $id = htmlspecialchars($_POST['id']);          if(empty($id)){              \ErrorMessage::JsonResponse(false,'No Id Provided');              return;          }          $announcement = new announcement();          $announcement->delete($id);      }    }if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['action'])){    match ($_POST['action']){        'store' => (new announcementController())->store(),        'update' => (new announcementController())->update(),        'delete' => (new announcementController())->delete(),        default => http_response_code(400)    };}